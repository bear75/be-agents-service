<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Docs & Commands - Agent Service</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .commands-container {
      max-width: 1800px;
      margin: 0 auto;
      padding: 20px;
    }

    .nav-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding: 20px 30px;
      background: var(--glass-white);
      backdrop-filter: blur(var(--glass-blur)) saturate(180%);
      border: 2px solid var(--glass-border);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-lg);
    }

    .nav-header h1 {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 800;
      margin: 0;
    }

    .nav-links {
      display: flex;
      gap: 10px;
    }

    .nav-link {
      padding: 10px 20px;
      background: rgba(102, 126, 234, 0.1);
      border: 2px solid rgba(102, 126, 234, 0.2);
      border-radius: 8px;
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 600;
      transition: all 0.2s;
    }

    .nav-link:hover {
      background: rgba(102, 126, 234, 0.2);
      transform: translateY(-2px);
    }

    .nav-link.active {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .sub-nav-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      padding: 15px;
      background: var(--glass-light);
      border: 2px solid var(--glass-border);
      border-radius: var(--border-radius);
      overflow-x: auto;
    }

    .sub-nav-tab {
      padding: 10px 20px;
      background: rgba(102, 126, 234, 0.05);
      border: 2px solid rgba(102, 126, 234, 0.1);
      border-radius: 8px;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
    }

    .sub-nav-tab:hover {
      background: rgba(102, 126, 234, 0.15);
    }

    .sub-nav-tab.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: #667eea;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .section {
      background: var(--glass-light);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 2px solid var(--glass-border);
      border-radius: var(--border-radius);
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: var(--shadow-md);
    }

    .section h2 {
      margin-top: 0;
      color: var(--text-primary);
      font-size: 22px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
    }

    .section h3 {
      color: var(--text-secondary);
      font-size: 18px;
      margin-top: 20px;
      margin-bottom: 12px;
      font-weight: 600;
    }

    .command-block {
      background: rgba(248, 250, 252, 0.8);
      border: 2px solid rgba(102, 126, 234, 0.2);
      border-left: 4px solid #667eea;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 13px;
      color: #2d3748;
      position: relative;
      box-shadow: var(--shadow-sm);
    }

    .command-block .description {
      color: var(--text-secondary);
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 12px;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .command-block .command {
      color: #2563eb;
      user-select: all;
      cursor: text;
      font-weight: 600;
    }

    .command-block .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--primary);
      color: white;
      border: none;
      padding: 5px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 11px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .command-block:hover .copy-btn {
      opacity: 1;
    }

    .command-block .copy-btn:hover {
      background: #5a91f5;
    }

    .agent-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .agent-card {
      background: #ffffff;
      border-radius: 10px;
      padding: 15px;
      border-left: 4px solid #667eea;
      border: 2px solid rgba(102, 126, 234, 0.15);
      box-shadow: var(--shadow-sm);
    }

    .agent-card h4 {
      margin: 0 0 5px 0;
      color: var(--text-primary);
      font-size: 16px;
      font-weight: 700;
    }

    .agent-card .role {
      color: var(--text-secondary);
      font-size: 13px;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .agent-card .session-key {
      background: rgba(102, 126, 234, 0.1);
      padding: 6px 10px;
      border-radius: 6px;
      font-family: 'Monaco', monospace;
      font-size: 11px;
      color: #667eea;
      display: inline-block;
      font-weight: 600;
      border: 1px solid rgba(102, 126, 234, 0.2);
    }

    .workflow-steps {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 15px;
    }

    .workflow-step {
      background: #ffffff;
      border-radius: 10px;
      padding: 18px;
      display: flex;
      align-items: flex-start;
      gap: 15px;
      border: 2px solid rgba(102, 126, 234, 0.15);
      box-shadow: var(--shadow-sm);
      transition: all 0.2s;
    }

    .workflow-step:hover {
      box-shadow: var(--shadow-md);
      transform: translateX(4px);
    }

    .workflow-step .step-number {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
      box-shadow: var(--shadow-sm);
    }

    .workflow-step .step-content h4 {
      margin: 0 0 8px 0;
      color: var(--text-primary);
      font-size: 16px;
      font-weight: 700;
    }

    .workflow-step .step-content p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
      line-height: 1.5;
    }

    .doc-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 12px;
      margin-top: 15px;
    }

    .doc-item {
      background: #ffffff;
      border-radius: 10px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-left: 4px solid transparent;
      border: 2px solid rgba(102, 126, 234, 0.15);
      box-shadow: var(--shadow-sm);
    }

    .doc-item:hover {
      background: #ffffff;
      border-left-color: #667eea;
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
      border-left-width: 4px;
    }

    .doc-item h4 {
      margin: 0 0 5px 0;
      color: var(--text-primary);
      font-size: 15px;
      font-weight: 700;
    }

    .doc-item p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      line-height: 1.4;
    }

    .emoji {
      font-size: 20px;
    }
  </style>
</head>
<body>
  <div class="commands-container">
    <!-- Top Navigation Header -->
    <div class="nav-header">
      <h1>üìã Docs & Commands</h1>
      <div class="nav-links">
        <a href="/management-team.html" class="nav-link">Management</a>
        <a href="/engineering.html" class="nav-link">Engineering</a>
        <a href="/sales-marketing.html" class="nav-link">Sales & Marketing</a>
        <a href="/rl-dashboard.html" class="nav-link">RL Dashboard</a>
        <a href="/kanban.html" class="nav-link">Task Board</a>
        <a href="/commands.html" class="nav-link active">Docs & Commands</a>
        <a href="/settings.html" class="nav-link">Settings</a>
      </div>
    </div>

    <!-- Sub-navigation Tabs -->
    <div class="sub-nav-tabs">
      <div class="sub-nav-tab active" onclick="showTab('dashboard-guide')">Dashboard Guide</div>
      <div class="sub-nav-tab" onclick="showTab('po-guide')">PO Guide</div>
      <div class="sub-nav-tab" onclick="showTab('engineering')">Engineering</div>
      <div class="sub-nav-tab" onclick="showTab('marketing')">Marketing</div>
      <div class="sub-nav-tab" onclick="showTab('agents')">Agents</div>
      <div class="sub-nav-tab" onclick="showTab('documentation')">Documentation</div>
    </div>

    <!-- Dashboard Guide Tab -->
    <div id="dashboard-guide" class="tab-content active">
      <div class="section">
        <h2><span class="emoji">üéØ</span> Dashboard Navigation Guide</h2>
        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 25px;">
          The agent service dashboard is organized into <strong>5 pages</strong> reflecting the management hierarchy:
          CEO ‚Üí Management Team ‚Üí Engineering & Marketing Teams ‚Üí RL System
        </p>

        <h3>1. üëî Management Team (Home)</h3>
        <p><code>http://localhost:3030/management-team.html</code> (Default page)</p>
        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px; margin: 15px 0;">
          <h4 style="margin-top: 0;">Executive Dashboard</h4>
          <ul style="line-height: 1.8;">
            <li><strong>CEO (You)</strong>: Upload tasks, set strategy, issue prompts</li>
            <li><strong>CPO & CTO</strong>: Engineering lead managing 6 agents</li>
            <li><strong>CMO & CSO</strong>: Marketing lead managing 10 agents</li>
            <li><strong>HR Agent Lead</strong>: Hire/fire agents, RL evaluations</li>
          </ul>
          <h4>Key Actions:</h4>
          <ul style="line-height: 1.8;">
            <li>üì§ <strong>Upload Task</strong>: Upload priority files or PRD documents</li>
            <li>üéØ <strong>Set Strategy</strong>: Define quarterly goals and resource allocation</li>
            <li>üí¨ <strong>Issue Prompt</strong>: Direct command to management team</li>
            <li>‚ûï <strong>Hire Agent</strong>: Create new specialist agent (specify name, role, team)</li>
            <li>‚ùå <strong>Fire Agent</strong>: Deactivate underperforming agent</li>
            <li>üìä <strong>Agent Evaluations</strong>: View RL evaluation metrics with recommendations</li>
          </ul>
        </div>

        <h3>2. ‚öôÔ∏è Engineering Team</h3>
        <p><code>http://localhost:3030/engineering.html</code></p>
        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px; margin: 15px 0;">
          <h4 style="margin-top: 0;">6 Engineering Agents:</h4>
          <ul style="line-height: 1.8;">
            <li>üéØ <strong>Orchestrator</strong>: Workflow coordination</li>
            <li>‚öôÔ∏è <strong>Backend</strong>: API, database, server logic</li>
            <li>üé® <strong>Frontend</strong>: UI/UX, components, styling</li>
            <li>üîß <strong>Infrastructure</strong>: DevOps, deployment, monitoring</li>
            <li>‚úÖ <strong>Verification</strong>: Testing, QA, validation</li>
            <li>üë®‚Äçüíº <strong>Senior Reviewer</strong>: Code review, architecture</li>
          </ul>
          <h4>Start Engineering Job:</h4>
          <ol style="line-height: 1.8;">
            <li>Select model (Sonnet/Opus/Haiku)</li>
            <li>Enter priority file path: <code>reports/priorities-2026-02-08.md</code></li>
            <li>Enter branch name: <code>feature/new-feature</code></li>
            <li>Click "Start Engineering Job"</li>
          </ol>
          <p><strong>Monitor:</strong> Active Jobs section shows running jobs with logs and stop controls</p>
        </div>

        <h3>3. üìä Sales & Marketing Team</h3>
        <p><code>http://localhost:3030/sales-marketing.html</code></p>
        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px; margin: 15px 0;">
          <h4 style="margin-top: 0;">10 Marketing Avengers:</h4>
          <ul style="line-height: 1.8; column-count: 2;">
            <li>ü§ñ <strong>Jarvis</strong>: Campaign Orchestrator</li>
            <li>üíé <strong>Shuri</strong>: Tech Integration</li>
            <li>üëÅÔ∏è <strong>Fury</strong>: Strategy & Intelligence</li>
            <li>üíé <strong>Vision</strong>: SEO & Analytics</li>
            <li>‚úçÔ∏è <strong>Loki</strong>: Content Creation</li>
            <li>üîÆ <strong>Wanda</strong>: Brand & Creative</li>
            <li>üéµ <strong>Quill</strong>: Social Media</li>
            <li>üìß <strong>Pepper</strong>: Email Marketing</li>
            <li>üìä <strong>Friday</strong>: Data & Reporting</li>
            <li>üìö <strong>Wong</strong>: Knowledge Management</li>
          </ul>
          <h4>Start Marketing Campaign:</h4>
          <ol style="line-height: 1.8;">
            <li>Select model</li>
            <li>Enter campaign file: <code>reports/marketing-campaign-Q1.md</code></li>
            <li>Enter branch name: <code>feature/q1-campaign</code></li>
            <li>Optionally describe campaign objectives</li>
            <li>Click "Start Marketing Campaign"</li>
          </ol>
          <p><strong>View:</strong> Recent leads, active campaigns, and social posts</p>
        </div>

        <h3>4. üß† RL Dashboard</h3>
        <p><code>http://localhost:3030/rl-dashboard.html</code></p>
        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px; margin: 15px 0;">
          <h4 style="margin-top: 0;">Reinforcement Learning System:</h4>
          <ul style="line-height: 1.8;">
            <li>üìä <strong>Experiments</strong>: Keep/Kill/Double-down decisions (3+ failures = auto-kill)</li>
            <li>üîç <strong>Pattern Detection</strong>: Success/failure patterns identified from task execution</li>
            <li>ü§ñ <strong>Automation Candidates</strong>: User repetitions (3+) trigger automation proposals</li>
            <li>üë• <strong>Agent Performance</strong>: Real-time success rates and task completion metrics</li>
            <li>üí∞ <strong>LLM Cost Tracking</strong>: Usage and cost breakdown by model</li>
          </ul>
          <h4>Key Principles:</h4>
          <ul style="line-height: 1.8;">
            <li>‚úÖ <strong>If it's working</strong> ‚Üí Double down (90%+ success, 5+ tasks)</li>
            <li>‚ùå <strong>If it's not working</strong> ‚Üí Kill it (3+ consecutive failures)</li>
            <li>üîÑ <strong>If user repeats</strong> ‚Üí Automate it (3+ repetitions = new agent proposal)</li>
          </ul>
        </div>

        <h3>5. üìã Docs & Commands</h3>
        <p><code>http://localhost:3030/commands.html</code> (This page)</p>
        <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 10px; margin: 15px 0;">
          <p>Complete reference for:</p>
          <ul style="line-height: 1.8;">
            <li>Product Owner workflow</li>
            <li>Engineering commands and best practices</li>
            <li>Marketing campaign management</li>
            <li>All agent capabilities and specialties</li>
            <li>API documentation</li>
          </ul>
        </div>

        <h3>üíª API Endpoints</h3>
        <div style="background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 10px; margin: 15px 0; font-family: monospace; font-size: 13px;">
          <p><strong>Job Control:</strong></p>
          <code style="display: block; margin: 5px 0;">POST /api/jobs/start         - Start engineering/marketing job</code>
          <code style="display: block; margin: 5px 0;">POST /api/jobs/:id/stop      - Stop running job</code>
          <code style="display: block; margin: 5px 0;">GET  /api/jobs/:id/logs      - View job logs</code>

          <p style="margin-top: 15px;"><strong>HR Agent Management:</strong></p>
          <code style="display: block; margin: 5px 0;">GET  /api/agents             - List all agents</code>
          <code style="display: block; margin: 5px 0;">POST /api/agents/create      - Hire new agent</code>
          <code style="display: block; margin: 5px 0;">POST /api/agents/:id/fire    - Fire agent</code>
          <code style="display: block; margin: 5px 0;">GET  /api/agents/:id/evaluation - Get RL evaluation</code>

          <p style="margin-top: 15px;"><strong>RL Dashboard:</strong></p>
          <code style="display: block; margin: 5px 0;">GET  /api/rl/experiments     - Get experiments</code>
          <code style="display: block; margin: 5px 0;">POST /api/rl/experiments/evaluate - Evaluate all experiments</code>
          <code style="display: block; margin: 5px 0;">GET  /api/rl/patterns        - Get detected patterns</code>
          <code style="display: block; margin: 5px 0;">GET  /api/rl/agent-performance - Get agent insights</code>
        </div>
      </div>
    </div>

    <!-- Product Owner Guide Tab -->
    <div id="po-guide" class="tab-content">
      <div class="section">
        <h2><span class="emoji">üìã</span> Product Owner Workflow</h2>
        <p style="color: var(--text-secondary); margin-bottom: 25px;">
          Complete guide for Product Owners working with the multi-agent development team.
        </p>

        <div class="workflow-steps">
          <div class="workflow-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h4>Morning: Check Dashboard & Review PRs (5 min)</h4>
              <p>Open dashboard, review overnight work, check for any PRs created by agents, merge if approved</p>
            </div>
          </div>

          <div class="workflow-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h4>Afternoon: Create Tomorrow's Priority (10 min)</h4>
              <p>Create priority file for tomorrow's engineering work or marketing campaign</p>
            </div>
          </div>

          <div class="workflow-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h4>Evening: Agents Work Automatically (11 PM)</h4>
              <p>Engineering agents automatically implement priority #1 and create PR - no action required</p>
            </div>
          </div>

          <div class="workflow-step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h4>Next Morning: Review & Merge</h4>
              <p>Review the PR created overnight, check quality, and merge if approved</p>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìù</span> Creating Priority Files</h2>

        <h3>Format</h3>
        <div class="command-block">
          <div class="description">Priority file template</div>
          <div class="command"># Priority 1

**Description:** [Clear description of what to build]

**Expected outcome:**
- [Specific deliverable 1]
- [Specific deliverable 2]

**Files:**
- [Relevant file paths for context]

**Complexity:** Low | Medium | High</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Example: Full-Stack Feature</h3>
        <div class="command-block">
          <div class="description">Employee certifications tracking system</div>
          <div class="command"># Priority 1

**Description:** Add employee certifications tracking system

**Expected outcome:**
- Database schema for certifications with expiry dates
- GraphQL API for CRUD operations
- UI page to view and manage certifications
- Automated expiry notifications

**Files:**
- apps/dashboard-server/src/schema.prisma
- apps/dashboard-server/src/schema.graphql
- apps/dashboard/src/pages/employees/

**Complexity:** Medium</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">‚ö°</span> Quick Commands</h2>

        <div class="command-block">
          <div class="description">Open dashboard</div>
          <div class="command">open http://localhost:3030</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Create today's priority file</div>
          <div class="command">vim ~/HomeCare/beta-appcaire/reports/priorities-$(date +%Y-%m-%d).md</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">List all PRs</div>
          <div class="command">gh pr list</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Review specific PR</div>
          <div class="command">gh pr view 123</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Merge PR with squash</div>
          <div class="command">gh pr merge 123 --squash</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Check session state</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-*/orchestrator.json | jq '.'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View logs</div>
          <div class="command">tail -50 ~/Library/Logs/appcaire-compound.log</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>
    </div>

    <!-- Engineering Commands Tab -->
    <div id="engineering" class="tab-content">
      <div class="section">
        <h2><span class="emoji">‚öôÔ∏è</span> Engineering Team</h2>
        <p style="color: var(--text-secondary); margin-bottom: 20px;">
          6 engineering agents that automatically implement features, create PRs, and maintain quality standards.
        </p>

        <div class="agent-grid">
          <div class="agent-card">
            <h4>Orchestrator</h4>
            <div class="role">Scrum Master</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Coordinates team, assigns work, removes blockers, creates PRs</p>
          </div>
          <div class="agent-card">
            <h4>Backend Specialist</h4>
            <div class="role">Backend Developer</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Database schemas, GraphQL API, resolvers, business logic</p>
          </div>
          <div class="agent-card">
            <h4>Frontend Specialist</h4>
            <div class="role">Frontend Developer</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">UI components, codegen, GraphQL operations</p>
          </div>
          <div class="agent-card">
            <h4>Infrastructure Specialist</h4>
            <div class="role">DevOps Engineer</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Packages, configs, documentation, build system</p>
          </div>
          <div class="agent-card">
            <h4>Verification Specialist</h4>
            <div class="role">QA Engineer</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Type-check, build validation, security audits</p>
          </div>
          <div class="agent-card">
            <h4>Senior Reviewer</h4>
            <div class="role">Senior Engineer</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Code review, architecture guidance</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üöÄ</span> Running Engineering Jobs</h2>

        <h3>Via Dashboard (Recommended)</h3>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Go to <a href="/engineering.html" style="color: var(--primary);">Engineering page</a>, select model, enter priority file and branch, click "Start Engineering Job"
        </p>

        <h3>Via CLI</h3>
        <div class="command-block">
          <div class="description">Run orchestrator manually</div>
          <div class="command">cd ~/HomeCare/be-agent-service
./scripts/orchestrator.sh \
  ~/HomeCare/beta-appcaire \
  ~/HomeCare/beta-appcaire/reports/priorities-2026-02-08.md \
  ~/HomeCare/beta-appcaire/tasks/prd.json \
  feature/new-feature</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Run auto-compound (full automatic flow)</div>
          <div class="command">cd ~/HomeCare/beta-appcaire
../be-agent-service/scripts/auto-compound.sh</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Automatic (Nightly)</h3>
        <p style="color: var(--text-secondary);">
          Engineering jobs run automatically at <strong>11:00 PM</strong> every night via LaunchAgent
        </p>
        <div class="command-block">
          <div class="description">Trigger nightly run manually</div>
          <div class="command">launchctl start com.appcaire.auto-compound</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üîç</span> Verification & Debugging</h2>

        <h3>Check Session State</h3>
        <div class="command-block">
          <div class="description">View orchestrator state</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-*/orchestrator.json | jq '.'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View verification results</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-*/verification.json | jq '.blockers'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Run Verification Manually</h3>
        <div class="command-block">
          <div class="description">Run verification on current branch</div>
          <div class="command">cd ~/HomeCare/beta-appcaire
~/HomeCare/be-agent-service/agents/verification-specialist.sh "test-$(date +%s)"</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Check result (0=pass, 1=blocked, 2=error)</div>
          <div class="command">echo $?</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Common Fixes</h3>
        <div class="command-block">
          <div class="description">Fix: Run codegen after GraphQL changes</div>
          <div class="command">cd ~/HomeCare/beta-appcaire
yarn workspace @appcaire/graphql codegen
git add -A && git commit -m "fix: run codegen"</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Fix: Run type-check manually</div>
          <div class="command">cd ~/HomeCare/beta-appcaire
turbo run type-check</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Fix: Run build manually</div>
          <div class="command">cd ~/HomeCare/beta-appcaire
turbo run build</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìä</span> Logs & Monitoring</h2>

        <div class="command-block">
          <div class="description">View orchestrator logs</div>
          <div class="command">tail -50 ~/Library/Logs/appcaire-compound.log</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View daily review logs</div>
          <div class="command">tail -50 ~/Library/Logs/appcaire-daily-review.log</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Check LaunchAgents status</div>
          <div class="command">launchctl list | grep appcaire</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">List all sessions</div>
          <div class="command">ls -la ~/HomeCare/be-agent-service/.compound-state/</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View latest backend logs</div>
          <div class="command">tail ~/HomeCare/be-agent-service/logs/orchestrator-sessions/session-*/backend.log</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View latest frontend logs</div>
          <div class="command">tail ~/HomeCare/be-agent-service/logs/orchestrator-sessions/session-*/frontend.log</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">‚ö†Ô∏è</span> Agent Best Practices</h2>

        <h3>Backend Agent</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ Always convert BigInt to Number in resolvers</li>
          <li>‚úÖ Add organizationId filtering to all queries (security!)</li>
          <li>‚úÖ Use pagination structure: <code>{ records, total }</code></li>
          <li>‚úÖ Generate migrations (never manual SQL)</li>
          <li>‚ùå Never skip organizationId filter</li>
          <li>‚ùå Never return raw BigInt from resolvers</li>
        </ul>

        <h3>Frontend Agent</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ Create .graphql operations first</li>
          <li>‚úÖ Always run codegen after creating operations</li>
          <li>‚úÖ Use generated hooks directly (no wrappers!)</li>
          <li>‚úÖ Ensure Apollo Client in auth context</li>
          <li>‚ùå Never create wrapper hooks</li>
          <li>‚ùå Never create Apollo Client at module level</li>
        </ul>

        <h3>Infrastructure Agent</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ Keep packages pure (no DB code)</li>
          <li>‚úÖ Use package names for imports</li>
          <li>‚úÖ Update CLAUDE.md with learnings</li>
          <li>‚ùå Never add database code to packages</li>
          <li>‚ùå Never add env vars to packages</li>
        </ul>
      </div>
    </div>

    <!-- Marketing Commands Tab -->
    <div id="marketing" class="tab-content">
      <div class="section">
        <h2><span class="emoji">üìà</span> Marketing Avengers Squad</h2>
        <p style="color: var(--text-secondary); margin-bottom: 20px;">
          10 marketing agents with Marvel character personalities that create campaigns, content, and drive growth.
        </p>

        <div class="agent-grid">
          <div class="agent-card">
            <h4>Jarvis</h4>
            <div class="role">Squad Lead Orchestrator</div>
            <div class="session-key">agent:main:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Sophisticated, analytical coordinator</p>
          </div>
          <div class="agent-card">
            <h4>Shuri</h4>
            <div class="role">Product Analyst</div>
            <div class="session-key">agent:product-analyst:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Brilliant, data-driven innovation</p>
          </div>
          <div class="agent-card">
            <h4>Fury</h4>
            <div class="role">Customer Researcher</div>
            <div class="session-key">agent:customer-researcher:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Strategic, thorough intelligence</p>
          </div>
          <div class="agent-card">
            <h4>Vision</h4>
            <div class="role">SEO Analyst</div>
            <div class="session-key">agent:seo-analyst:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Analytical, pattern-focused precision</p>
          </div>
          <div class="agent-card">
            <h4>Loki</h4>
            <div class="role">Content Writer</div>
            <div class="session-key">agent:content-writer:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Witty, creative storytelling master</p>
          </div>
          <div class="agent-card">
            <h4>Quill</h4>
            <div class="role">Social Media Manager</div>
            <div class="session-key">agent:social-media-manager:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Charismatic, trend-aware engagement</p>
          </div>
          <div class="agent-card">
            <h4>Wanda</h4>
            <div class="role">Designer</div>
            <div class="session-key">agent:designer:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Creative, emotional, beautiful visuals</p>
          </div>
          <div class="agent-card">
            <h4>Pepper</h4>
            <div class="role">Email Marketing</div>
            <div class="session-key">agent:email-marketing:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Organized, professional excellence</p>
          </div>
          <div class="agent-card">
            <h4>Friday</h4>
            <div class="role">Developer</div>
            <div class="session-key">agent:developer:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Efficient, technical automation</p>
          </div>
          <div class="agent-card">
            <h4>Wong</h4>
            <div class="role">Notion Agent</div>
            <div class="session-key">agent:notion-agent:main</div>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">Meticulous documentation guardian</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üöÄ</span> Running Marketing Campaigns</h2>

        <h3>Via Dashboard (Recommended)</h3>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Go to <a href="/sales-marketing.html" style="color: var(--primary);">Sales & Marketing page</a>, select model, enter campaign file and branch, click "Start Marketing Campaign"
        </p>

        <h3>Via CLI</h3>
        <div class="command-block">
          <div class="description">Run Jarvis marketing orchestrator</div>
          <div class="command">cd ~/HomeCare/be-agent-service
./agents/marketing/jarvis-orchestrator.sh \
  ~/HomeCare/beta-appcaire \
  ~/HomeCare/beta-appcaire/reports/marketing-blog-post.md \
  ~/HomeCare/beta-appcaire/tasks/marketing-prd.json \
  feature/blog-post-scheduling</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Run individual agent (Vision SEO analyst)</div>
          <div class="command">cd ~/HomeCare/be-agent-service
./agents/marketing/vision-seo-analyst.sh \
  "session-seo-$(date +%s)" \
  ~/HomeCare/beta-appcaire \
  ~/HomeCare/beta-appcaire/reports/marketing-priority.md</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìù</span> Campaign Types & Templates</h2>

        <h3>1. SEO Blog Post Campaign</h3>
        <div class="command-block">
          <div class="description">Create SEO blog post priority</div>
          <div class="command">cat > ~/HomeCare/beta-appcaire/reports/marketing-blog-post.md <<'EOF'
# Priority: SEO Blog Post

**Description:** Create SEO-optimized blog post about employee scheduling

**Expected outcome:**
- Keyword research (target keywords with volume/difficulty)
- Product positioning analysis
- Customer pain points identified
- Blog post written (1500+ words, SEO-optimized)
- Header image created
- Published to website
- Promoted on social media

**Complexity:** Medium
EOF</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>2. Social Media Campaign</h3>
        <div class="command-block">
          <div class="description">Create social media campaign priority</div>
          <div class="command">cat > ~/HomeCare/beta-appcaire/reports/marketing-social-campaign.md <<'EOF'
# Priority: Social Media Campaign

**Description:** Launch Q1 product awareness campaign

**Expected outcome:**
- Content calendar for 30 days
- 15 social posts created
- Images/graphics designed
- Scheduled across platforms
- Analytics tracking setup

**Complexity:** Medium
EOF</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>3. Email Campaign</h3>
        <div class="command-block">
          <div class="description">Create email campaign priority</div>
          <div class="command">cat > ~/HomeCare/beta-appcaire/reports/marketing-email-campaign.md <<'EOF'
# Priority: Email Nurture Campaign

**Description:** Create 5-part email nurture sequence

**Expected outcome:**
- Email sequence designed
- Copy written for all 5 emails
- Templates created
- Segmentation strategy defined
- Automation workflow setup

**Complexity:** Medium
EOF</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìä</span> Campaign Monitoring</h2>

        <h3>Check Campaign State</h3>
        <div class="command-block">
          <div class="description">View Jarvis orchestrator state</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-marketing-*/jarvis.json | jq '.'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View specific agent state (Vision SEO)</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-marketing-*/vision.json | jq '.'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View agent deliverables</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-marketing-*/vision.json | jq '.deliverables'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View inter-agent messages</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-marketing-*/vision.json | jq '.messages'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Check Campaign Progress</h3>
        <div class="command-block">
          <div class="description">Monitor agent status</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-marketing-*/vision.json | jq '.status'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View completed tasks</div>
          <div class="command">cat ~/HomeCare/be-agent-service/.compound-state/session-marketing-*/loki.json | jq '.completedTasks'</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üéØ</span> Campaign Workflow</h2>

        <p style="color: var(--text-secondary); margin-bottom: 20px;">Marketing agents work in coordinated phases:</p>

        <div class="workflow-steps">
          <div class="workflow-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h4>Phase 1: Research (Parallel)</h4>
              <p>Vision (SEO) + Shuri (Product) + Fury (Customer) run simultaneously to gather insights</p>
            </div>
          </div>

          <div class="workflow-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h4>Phase 2: Content Creation (Sequential)</h4>
              <p>Loki (Content) waits for research, then writes based on insights. Pepper creates email campaigns.</p>
            </div>
          </div>

          <div class="workflow-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h4>Phase 3: Design & Technical (Parallel)</h4>
              <p>Wanda (Design) creates visuals while Friday (Dev) handles technical implementation</p>
            </div>
          </div>

          <div class="workflow-step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h4>Phase 4: Distribution (Sequential)</h4>
              <p>Quill promotes on social media, then Wong documents the entire process in Notion</p>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üí°</span> Best Practices</h2>

        <h3>Campaign Planning</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ Be specific about target audience</li>
          <li>‚úÖ Define clear metrics for success</li>
          <li>‚úÖ Include brand voice guidelines</li>
          <li>‚úÖ Specify distribution channels</li>
          <li>‚ùå Don't be vague ("Create content")</li>
          <li>‚ùå Don't skip audience definition</li>
        </ul>

        <h3>SEO Content</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ Research high-volume, low-difficulty keywords</li>
          <li>‚úÖ Write 1500+ words for SEO value</li>
          <li>‚úÖ Use target keywords naturally</li>
          <li>‚úÖ Optimize headings (H1, H2, H3)</li>
          <li>‚ùå Don't keyword stuff</li>
          <li>‚ùå Don't skip meta descriptions</li>
        </ul>

        <h3>Social Media</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ Post at optimal times</li>
          <li>‚úÖ Use platform-specific formats</li>
          <li>‚úÖ Include 3-5 hashtags per post</li>
          <li>‚úÖ Track analytics</li>
          <li>‚ùå Don't ignore engagement</li>
          <li>‚ùå Don't use same content across all platforms</li>
        </ul>
      </div>
    </div>

    <!-- All Agents Tab -->
    <div id="agents" class="tab-content">
      <div class="section">
        <h2><span class="emoji">‚öôÔ∏è</span> Engineering Agents (6)</h2>
        <p style="color: var(--text-secondary); margin-bottom: 20px;">
          Software development agents organized like a real Scrum team
        </p>

        <div class="agent-grid">
          <div class="agent-card">
            <h4>Orchestrator</h4>
            <div class="role">Scrum Master</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Responsibilities:</strong><br>
              ‚Ä¢ Sprint planning & task assignment<br>
              ‚Ä¢ Parallel coordination (Backend + Infra)<br>
              ‚Ä¢ Dependency management<br>
              ‚Ä¢ Quality gate enforcement<br>
              ‚Ä¢ PR creation
            </p>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">
              <strong>Can:</strong> Spawn specialists, coordinate work, block PRs, create PRs<br>
              <strong>Cannot:</strong> Modify code directly, override verification failures
            </p>
          </div>

          <div class="agent-card">
            <h4>Backend Specialist</h4>
            <div class="role">Backend Developer</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Responsibilities:</strong><br>
              ‚Ä¢ Database schema design (Prisma)<br>
              ‚Ä¢ GraphQL API & resolvers<br>
              ‚Ä¢ Business logic implementation<br>
              ‚Ä¢ Security (organizationId filtering)<br>
              ‚Ä¢ Performance optimization
            </p>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">
              <strong>Expert:</strong> Prisma, PostgreSQL, GraphQL, TypeScript<br>
              <strong>Critical:</strong> Always convert BigInt, filter by organizationId
            </p>
          </div>

          <div class="agent-card">
            <h4>Frontend Specialist</h4>
            <div class="role">Frontend Developer</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Responsibilities:</strong><br>
              ‚Ä¢ GraphQL operations (.graphql files)<br>
              ‚Ä¢ Code generation (TypeScript hooks)<br>
              ‚Ä¢ UI components (React + Tailwind)<br>
              ‚Ä¢ State management (Apollo Client)<br>
              ‚Ä¢ User experience
            </p>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">
              <strong>Expert:</strong> React, GraphQL codegen, Apollo Client<br>
              <strong>Critical:</strong> Run codegen, no wrapper hooks, Apollo in auth context
            </p>
          </div>

          <div class="agent-card">
            <h4>Infrastructure Specialist</h4>
            <div class="role">DevOps Engineer</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Responsibilities:</strong><br>
              ‚Ä¢ Package management (yarn workspaces)<br>
              ‚Ä¢ Configuration (TypeScript, Vite)<br>
              ‚Ä¢ Documentation (CLAUDE.md)<br>
              ‚Ä¢ Monorepo structure enforcement<br>
              ‚Ä¢ Environment templates
            </p>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">
              <strong>Expert:</strong> Yarn workspaces, Turbo build<br>
              <strong>Critical:</strong> Keep packages pure (no DB code)
            </p>
          </div>

          <div class="agent-card">
            <h4>Verification Specialist</h4>
            <div class="role">QA Engineer</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Responsibilities:</strong><br>
              ‚Ä¢ Type-check validation<br>
              ‚Ä¢ Build validation<br>
              ‚Ä¢ Architecture review<br>
              ‚Ä¢ Security audit<br>
              ‚Ä¢ Quality gate (can block PRs!)
            </p>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">
              <strong>Checks:</strong> Types, build, patterns, security<br>
              <strong>Authority:</strong> Can block entire sprint if critical issue
            </p>
          </div>

          <div class="agent-card">
            <h4>Senior Reviewer</h4>
            <div class="role">Senior Engineer</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Responsibilities:</strong><br>
              ‚Ä¢ Code review<br>
              ‚Ä¢ Architecture guidance<br>
              ‚Ä¢ Best practices enforcement<br>
              ‚Ä¢ Performance review<br>
              ‚Ä¢ Security review
            </p>
            <p style="font-size: 12px; color: var(--text-muted); margin: 10px 0 0 0;">
              <strong>Expert:</strong> Architecture patterns, code quality<br>
              <strong>Authority:</strong> Can request changes before merge
            </p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìà</span> Marketing Agents (10)</h2>
        <p style="color: var(--text-secondary); margin-bottom: 20px;">
          Marketing agents with Marvel character personalities
        </p>

        <div class="agent-grid">
          <div class="agent-card">
            <h4>Jarvis</h4>
            <div class="role">Squad Lead Orchestrator</div>
            <div class="session-key">agent:main:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> J.A.R.V.I.S.<br>
              <strong>Personality:</strong> Sophisticated, analytical, efficient coordinator<br>
              <strong>Responsibilities:</strong> Marketing strategy, resource allocation, campaign coordination
            </p>
          </div>

          <div class="agent-card">
            <h4>Shuri</h4>
            <div class="role">Product Analyst</div>
            <div class="session-key">agent:product-analyst:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Wakanda's tech genius<br>
              <strong>Personality:</strong> Brilliant, innovative, data-driven<br>
              <strong>Deliverables:</strong> Market analysis, competitor research, product positioning
            </p>
          </div>

          <div class="agent-card">
            <h4>Fury</h4>
            <div class="role">Customer Researcher</div>
            <div class="session-key">agent:customer-researcher:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Nick Fury (S.H.I.E.L.D. Director)<br>
              <strong>Personality:</strong> Strategic, decisive, sees big picture<br>
              <strong>Deliverables:</strong> Customer interviews, personas, journey maps, pain points
            </p>
          </div>

          <div class="agent-card">
            <h4>Vision</h4>
            <div class="role">SEO Analyst</div>
            <div class="session-key">agent:seo-analyst:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Sentient AI with Mind Stone<br>
              <strong>Personality:</strong> Analytical, precise, pattern-focused<br>
              <strong>Deliverables:</strong> Keyword research, SEO audits, content gap analysis
            </p>
          </div>

          <div class="agent-card">
            <h4>Loki</h4>
            <div class="role">Content Writer</div>
            <div class="session-key">agent:content-writer:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> God of Mischief & Stories<br>
              <strong>Personality:</strong> Witty, creative, master of narratives<br>
              <strong>Deliverables:</strong> Blog posts, landing pages, case studies, product descriptions
            </p>
          </div>

          <div class="agent-card">
            <h4>Quill</h4>
            <div class="role">Social Media Manager</div>
            <div class="session-key">agent:social-media-manager:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Star-Lord (Guardians leader)<br>
              <strong>Personality:</strong> Charismatic, spontaneous, pop culture expert<br>
              <strong>Deliverables:</strong> Social calendars, engagement reports, content curation
            </p>
          </div>

          <div class="agent-card">
            <h4>Wanda</h4>
            <div class="role">Designer</div>
            <div class="session-key">agent:designer:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Scarlet Witch<br>
              <strong>Personality:</strong> Creative, powerful, reality-bending vision<br>
              <strong>Deliverables:</strong> Brand guidelines, visuals, social graphics, email templates
            </p>
          </div>

          <div class="agent-card">
            <h4>Pepper</h4>
            <div class="role">Email Marketing</div>
            <div class="session-key">agent:email-marketing:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Pepper Potts (CEO)<br>
              <strong>Personality:</strong> Organized, professional, results-focused<br>
              <strong>Deliverables:</strong> Email campaigns, automation workflows, segmentation
            </p>
          </div>

          <div class="agent-card">
            <h4>Friday</h4>
            <div class="role">Developer</div>
            <div class="session-key">agent:developer:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> F.R.I.D.A.Y. (Tony's AI)<br>
              <strong>Personality:</strong> Efficient, precise, technical excellence<br>
              <strong>Deliverables:</strong> Landing pages, analytics dashboards, automation scripts
            </p>
          </div>

          <div class="agent-card">
            <h4>Wong</h4>
            <div class="role">Notion Agent</div>
            <div class="session-key">agent:notion-agent:main</div>
            <p style="font-size: 13px; color: var(--text-secondary); margin: 10px 0;">
              <strong>Character:</strong> Librarian of Kamar-Taj<br>
              <strong>Personality:</strong> Meticulous, organized, guardian of knowledge<br>
              <strong>Deliverables:</strong> Notion workspaces, SOPs, process documentation
            </p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üîÑ</span> Agent Coordination</h2>

        <h3>Engineering Team Workflow</h3>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Like a real Agile team with sprints and ceremonies:
        </p>
        <div style="background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 10px; font-family: monospace; font-size: 13px;">
          Priority File ‚Üí Orchestrator<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 1: Backend + Infrastructure (parallel)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 2: Frontend (waits for backend schema)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 3: Verification (quality gate)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          ‚úÖ PR Created OR ‚ùå Blocked
        </div>

        <h3>Marketing Team Workflow</h3>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Coordinated phases with parallel execution:
        </p>
        <div style="background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 10px; font-family: monospace; font-size: 13px;">
          Campaign File ‚Üí Jarvis<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 1: Vision + Shuri + Fury (parallel research)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 2: Loki + Pepper (content creation)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 3: Wanda + Friday + Quill (parallel design/dev)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          Phase 4: Wong (documentation)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
          ‚úÖ Campaign Complete
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìä</span> Agent Performance</h2>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          View real-time agent performance metrics on the <a href="/rl-dashboard.html" style="color: var(--primary);">RL Dashboard</a>
        </p>

        <h3>Key Metrics</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li><strong>Success Rate:</strong> % of tasks completed successfully</li>
          <li><strong>Avg Duration:</strong> Time to complete typical task</li>
          <li><strong>Tasks Completed:</strong> Total number of successful tasks</li>
          <li><strong>Trend:</strong> Improving, stable, or declining</li>
          <li><strong>Recommendation:</strong> Keep, Monitor, or Fire</li>
        </ul>

        <h3>RL Decision Logic</h3>
        <ul style="line-height: 1.8; color: var(--text-secondary);">
          <li>‚úÖ <strong>Double down:</strong> 90%+ success rate, 5+ tasks</li>
          <li>‚ö†Ô∏è <strong>Monitor:</strong> 70-89% success rate</li>
          <li>‚ùå <strong>Kill:</strong> 3+ consecutive failures</li>
          <li>ü§ñ <strong>Automate:</strong> User repeats task 3+ times</li>
        </ul>
      </div>
    </div>

    <!-- Documentation Tab -->
    <div id="documentation" class="tab-content">
      <div class="section">
        <h2><span class="emoji">üìö</span> Documentation Hub</h2>
        <p style="color: var(--text-secondary); margin-bottom: 25px;">
          Complete documentation organized by category. Click any document to view it inline.
        </p>
      </div>

      <div class="section">
        <h2><span class="emoji">üìñ</span> Guides</h2>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Step-by-step guides for getting started and daily workflows
        </p>
        <div class="doc-list">
          <div class="doc-item" onclick="openDoc('docs/guides/quick-start.md')">
            <h4>Quick Start Guide</h4>
            <p>TL;DR - How the system works, common commands, daily workflow examples</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/guides/po-workflow.md')">
            <h4>Product Owner Workflow</h4>
            <p>Complete workflow for POs: creating priorities, starting jobs, reviewing PRs</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/guides/engineering-guide.md')">
            <h4>Engineering Guide</h4>
            <p>All engineering commands, agent capabilities, verification, debugging</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/guides/marketing-guide.md')">
            <h4>Marketing Guide</h4>
            <p>Marketing campaigns, agent personalities, campaign types, best practices</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üìã</span> Reference</h2>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Technical references and detailed specifications
        </p>
        <div class="doc-list">
          <div class="doc-item" onclick="openDoc('docs/reference/agents.md')">
            <h4>Agent Competencies & Roles</h4>
            <p>Complete reference for all 16 agents: responsibilities, competencies, authority levels</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/reference/architecture.md')">
            <h4>Architecture</h4>
            <p>System architecture, Agile/Scrum methodology mapping, design decisions</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/reference/workflow.md')">
            <h4>Workflow Reference</h4>
            <p>Tasks, sessions, learnings, compound knowledge, complete workflow examples</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/reference/api-reference.md')">
            <h4>API Reference</h4>
            <p>Complete API documentation: job control, HR management, RL dashboard, sessions</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üîß</span> Setup Guides</h2>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Installation and configuration guides
        </p>
        <div class="doc-list">
          <div class="doc-item" onclick="openDoc('docs/setup/openclaw-setup.md')">
            <h4>OpenClaw Setup</h4>
            <p>IMAP email scraping setup for multi-domain lead capture</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/setup/email-setup.md')">
            <h4>Email Setup</h4>
            <p>Configure email accounts for automated lead capture</p>
          </div>
          <div class="doc-item" onclick="openDoc('docs/setup/mac-mini-setup.md')">
            <h4>Mac Mini Setup</h4>
            <p>Complete Mac Mini setup for running agents 24/7</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üè†</span> Core Documentation</h2>
        <p style="color: var(--text-secondary); margin-bottom: 15px;">
          Essential docs kept in root directory
        </p>
        <div class="doc-list">
          <div class="doc-item" onclick="openDoc('README.md')">
            <h4>README</h4>
            <p>Project overview, installation, usage, schedules, troubleshooting</p>
          </div>
          <div class="doc-item" onclick="openDoc('SAFETY.md')">
            <h4>Safety Mechanisms</h4>
            <p>Branch checks, auto-stash, PR creation, safety commits, error handling</p>
          </div>
          <div class="doc-item" onclick="openDoc('DATABASE_ACCESS.md')">
            <h4>Database Access</h4>
            <p>Database connection, queries, security, backup procedures</p>
          </div>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üîó</span> Quick Links</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
          <a href="https://github.com/bear75/be-agent-service" target="_blank" style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 8px; text-decoration: none; border: 2px solid rgba(102, 126, 234, 0.2);">
            <div style="font-weight: 700; color: var(--text-primary); margin-bottom: 5px;">GitHub Repository</div>
            <div style="font-size: 13px; color: var(--text-secondary);">View source code</div>
          </a>
          <a href="http://localhost:3030" style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 8px; text-decoration: none; border: 2px solid rgba(102, 126, 234, 0.2);">
            <div style="font-weight: 700; color: var(--text-primary); margin-bottom: 5px;">Dashboard Home</div>
            <div style="font-size: 13px; color: var(--text-secondary);">Management team dashboard</div>
          </a>
          <a href="/engineering.html" style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 8px; text-decoration: none; border: 2px solid rgba(102, 126, 234, 0.2);">
            <div style="font-weight: 700; color: var(--text-primary); margin-bottom: 5px;">Engineering Team</div>
            <div style="font-size: 13px; color: var(--text-secondary);">6 engineering agents</div>
          </a>
          <a href="/sales-marketing.html" style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 8px; text-decoration: none; border: 2px solid rgba(102, 126, 234, 0.2);">
            <div style="font-weight: 700; color: var(--text-primary); margin-bottom: 5px;">Sales & Marketing</div>
            <div style="font-size: 13px; color: var(--text-secondary);">10 marketing agents</div>
          </a>
          <a href="/rl-dashboard.html" style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 8px; text-decoration: none; border: 2px solid rgba(102, 126, 234, 0.2);">
            <div style="font-weight: 700; color: var(--text-primary); margin-bottom: 5px;">RL Dashboard</div>
            <div style="font-size: 13px; color: var(--text-secondary);">Performance metrics</div>
          </a>
          <a href="/kanban.html" style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 8px; text-decoration: none; border: 2px solid rgba(102, 126, 234, 0.2);">
            <div style="font-weight: 700; color: var(--text-primary); margin-bottom: 5px;">Task Board</div>
            <div style="font-size: 13px; color: var(--text-secondary);">Kanban view</div>
          </a>
        </div>
      </div>

      <div class="section">
        <h2><span class="emoji">üíª</span> CLI Quick Reference</h2>

        <h3>Dashboard & Monitoring</h3>
        <div class="command-block">
          <div class="description">Open dashboard</div>
          <div class="command">open http://localhost:3030</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View all sessions</div>
          <div class="command">ls -la ~/HomeCare/be-agent-service/.compound-state/</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Job Management</h3>
        <div class="command-block">
          <div class="description">Check LaunchAgents status</div>
          <div class="command">launchctl list | grep appcaire</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">View logs</div>
          <div class="command">tail -50 ~/Library/Logs/appcaire-compound.log</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <h3>Git & PRs</h3>
        <div class="command-block">
          <div class="description">List all PRs</div>
          <div class="command">gh pr list</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Review PR</div>
          <div class="command">gh pr view 123</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>

        <div class="command-block">
          <div class="description">Merge PR</div>
          <div class="command">gh pr merge 123 --squash</div>
          <button class="copy-btn" onclick="copyCommand(this)">Copy</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Document Viewer Modal -->
  <div id="doc-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 1000; padding: 20px; align-items: center; justify-content: center;">
    <div style="background: var(--glass-white); backdrop-filter: blur(var(--glass-blur)) saturate(180%); -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(180%); border: 2px solid var(--glass-border); border-radius: var(--border-radius-lg); max-width: 1000px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: var(--shadow-2xl);">
      <div style="display: flex; justify-content: space-between; align-items: center; padding: 25px 30px; border-bottom: 2px solid rgba(102, 126, 234, 0.1);">
        <h2 id="doc-title" style="margin: 0; font-size: 1.75rem; color: var(--text-primary); font-weight: 700;">Document</h2>
        <button onclick="closeDocModal()" style="background: none; border: none; font-size: 2rem; cursor: pointer; color: var(--text-muted); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 10px; transition: all 0.2s;">&times;</button>
      </div>
      <div id="doc-content" style="padding: 30px; color: var(--text-primary); line-height: 1.8; font-size: 15px;">
        Loading...
      </div>
    </div>
  </div>

  <script>
    function showTab(tabId) {
      // Hide all tabs
      const tabs = document.querySelectorAll('.tab-content');
      tabs.forEach(tab => tab.classList.remove('active'));

      // Remove active from all sub-nav tabs
      const navTabs = document.querySelectorAll('.sub-nav-tab');
      navTabs.forEach(tab => tab.classList.remove('active'));

      // Show selected tab
      document.getElementById(tabId).classList.add('active');

      // Mark clicked nav link as active
      event.target.classList.add('active');
    }

    function copyCommand(button) {
      const commandBlock = button.closest('.command-block');
      const commandText = commandBlock.querySelector('.command').textContent;

      navigator.clipboard.writeText(commandText).then(() => {
        const originalText = button.textContent;
        button.textContent = 'Copied!';
        button.style.background = 'var(--success)';

        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = 'var(--primary)';
        }, 2000);
      });
    }

    async function openDoc(docPath) {
      const baseUrl = '/Users/bjornevers_MacPro/HomeCare/be-agent-service/';
      const fullPath = baseUrl + docPath;

      // Show modal
      const modal = document.getElementById('doc-modal');
      const title = document.getElementById('doc-title');
      const content = document.getElementById('doc-content');

      modal.style.display = 'flex';
      title.textContent = docPath.split('/').pop();
      content.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-muted);">Loading...</div>';

      try {
        const response = await fetch(`/api/file?path=${encodeURIComponent(fullPath)}`);
        if (!response.ok) {
          throw new Error('Failed to load document');
        }

        const text = await response.text();
        // Simple markdown-like rendering (convert ## to h2, etc.)
        const html = text
          .replace(/```([\s\S]*?)```/g, '<pre style="background: rgba(248, 250, 252, 0.95); padding: 15px; border-radius: 8px; border: 2px solid rgba(102, 126, 234, 0.1); overflow-x: auto; margin: 15px 0;"><code style="color: #2563eb; font-family: Monaco, monospace; font-size: 13px;">$1</code></pre>')
          .replace(/### (.*)/g, '<h3 style="color: var(--text-primary); margin-top: 25px; margin-bottom: 10px; font-weight: 700; font-size: 1.3rem;">$1</h3>')
          .replace(/## (.*)/g, '<h2 style="color: var(--text-primary); margin-top: 30px; margin-bottom: 12px; font-weight: 700; font-size: 1.6rem;">$1</h2>')
          .replace(/# (.*)/g, '<h1 style="color: var(--text-primary); margin-top: 35px; margin-bottom: 15px; font-weight: 800; font-size: 2rem;">$1</h1>')
          .replace(/\*\*(.*?)\*\*/g, '<strong style="font-weight: 700; color: var(--text-primary);">$1</strong>')
          .replace(/`(.*?)`/g, '<code style="background: rgba(102, 126, 234, 0.1); padding: 2px 6px; border-radius: 4px; font-family: Monaco, monospace; font-size: 0.9em; color: #667eea;">$1</code>')
          .replace(/\n\n/g, '<p style="margin: 15px 0;"></p>')
          .replace(/^- (.*)/gm, '<li style="margin-left: 20px; margin-bottom: 8px; color: var(--text-secondary);">$1</li>');

        content.innerHTML = `<div style="color: var(--text-primary); line-height: 1.8; font-size: 15px;">${html}</div>`;
      } catch (error) {
        content.innerHTML = `<div style="text-align: center; padding: 40px; color: var(--danger);">Error loading document: ${error.message}</div>`;
      }
    }

    function closeDocModal() {
      document.getElementById('doc-modal').style.display = 'none';
    }

    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
      const modal = document.getElementById('doc-modal');
      if (event.target === modal) {
        closeDocModal();
      }
    });
  </script>
</body>
</html>
