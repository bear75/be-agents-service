# Quick Setup Guide - Autonomous Compound Workflow

## What This Does

This workflow sets up an autonomous AI agent that:

- Reviews your work every night at 10:30 PM and extracts learnings
- Implements your #1 priority every night at 11:00 PM
- Creates draft PRs while you sleep
- Gets smarter over time by learning from patterns and mistakes

## Quick Start (5 minutes)

### 1. Prerequisites Check

Ensure you have these tools installed:

```bash
# Check Claude Code CLI
claude --version

# Check GitHub CLI
gh --version

# Check jq
jq --version
```

If missing, install them:

```bash
# Install GitHub CLI
brew install gh
gh auth login

# Install jq
brew install jq

# Configure Claude Code (if not already done)
claude configure
```

### 2. Install launchd Jobs

Copy the automation scripts to macOS LaunchAgents:

```bash
# From the project root directory:
cp launchd/com.appcaire.daily-compound-review.plist ~/Library/LaunchAgents/
cp launchd/com.appcaire.auto-compound.plist ~/Library/LaunchAgents/
cp launchd/com.appcaire.caffeinate.plist ~/Library/LaunchAgents/

# Load the jobs
launchctl load ~/Library/LaunchAgents/com.appcaire.daily-compound-review.plist
launchctl load ~/Library/LaunchAgents/com.appcaire.auto-compound.plist
launchctl load ~/Library/LaunchAgents/com.appcaire.caffeinate.plist

# Verify they're loaded
launchctl list | grep appcaire
```

You should see three jobs listed.

### 3. Create Your First Report

Create a priorities report with your actual tasks:

```bash
# Create a new dated priorities file
nano reports/priorities-$(date +%Y-%m-%d).md
```

Put your highest priority item at position #1. Be specific!

The auto-compound script automatically uses the most recent report file in the `reports/` directory.

### 4. Test It (Optional)

Test the scripts manually before the first automated run:

```bash
# Test the compound review (will review recent threads)
./scripts/compound/daily-compound-review.sh

# Test the auto-compound (will implement #1 priority)
# WARNING: This will create a real branch and PR!
./scripts/compound/auto-compound.sh
```

### 5. Wait for Tomorrow Morning

The automation will run tonight:

- 5:00 PM: Mac stays awake (caffeinate)
- 10:30 PM: Reviews work, updates CLAUDE.md files
- 11:00 PM: Picks priority #1, implements it, creates PR

In the morning, check:

- `logs/compound-review.log`
- `logs/auto-compound.log`
- GitHub for your draft PR

## What to Do Each Day

### Before Bed

- Update `reports/priorities-YYYY-MM-DD.md` with your current priorities
- Put the most important item at #1
- Commit any work in progress

### In the Morning

- Review the agent's PR
- Check what learnings were added to CLAUDE.md
- Merge the PR if it looks good, or make adjustments
- Update your priorities report with the next batch of tasks

## Customization

### Change Schedule

Edit the plist files in `launchd/` directory, then:

```bash
launchctl unload ~/Library/LaunchAgents/com.appcaire.*.plist
cp launchd/*.plist ~/Library/LaunchAgents/
launchctl load ~/Library/LaunchAgents/com.appcaire.*.plist
```

### Disable Temporarily

```bash
launchctl unload ~/Library/LaunchAgents/com.appcaire.daily-compound-review.plist
launchctl unload ~/Library/LaunchAgents/com.appcaire.auto-compound.plist
```

To re-enable:

```bash
launchctl load ~/Library/LaunchAgents/com.appcaire.daily-compound-review.plist
launchctl load ~/Library/LaunchAgents/com.appcaire.auto-compound.plist
```

## Troubleshooting

**Jobs not running?**

```bash
# Check if loaded
launchctl list | grep appcaire

# Check logs
tail -f logs/compound-review.log
tail -f logs/auto-compound.log
```

**Can't find reports?**

- Ensure reports exist in `reports/` directory
- Check they're `.md` files
- Latest report (by date) is automatically picked

**PR not created?**

```bash
# Verify GitHub CLI is authenticated
gh auth status

# Check error logs
tail -f logs/auto-compound.log
```

## File Structure

```
beta-appcaire/
├── scripts/
│   ├── daily-compound-review.sh      # Reviews threads, updates CLAUDE.md
│   └── compound/
│       ├── analyze-report.sh         # Picks #1 priority from report
│       ├── auto-compound.sh          # Main automation pipeline
│       └── loop.sh                   # Iterative task execution
├── launchd/
│   ├── com.appcaire.daily-compound-review.plist
│   ├── com.appcaire.auto-compound.plist
│   └── com.appcaire.caffeinate.plist
├── reports/
│   └── priorities-YYYY-MM-DD.md      # Daily priorities reports
├── tasks/                            # PRDs generated by agent
├── logs/                             # Execution logs
└── docs/
    └── COMPOUND_WORKFLOW.md          # Detailed documentation
```

## Next Steps

1. Read the full documentation: `docs/COMPOUND_WORKFLOW.md`
2. Install the compound-engineering plugin for Claude Code
3. Create CLAUDE.md files in key directories to store learnings
4. Update your priorities report regularly
5. Review agent-generated PRs each morning

## Need Help?

- Check logs: `tail -f logs/*.log`
- Read full docs: `docs/COMPOUND_WORKFLOW.md`
- Verify setup: `launchctl list | grep appcaire`
